<%- include('../partials/userHead.ejs') %>

<div class="section-all">
    <div class="container ">
      <div class="title  text-center p-2" style="height: 7vh;">
        <h2 style="font-family: 'Fasthand', cursive;">Ciazzzzz</h2>
      </div>
      <ul class="nav justify-content-between">
        <li class="nav-item">
          <a class="nav-link" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
              fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
              <path
                d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
            </svg></a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-primary" href="/shop">Shop</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/category">Category</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item d-flex">
          <a class="nav-link" href="/login">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-person-fill" viewBox="0 0 16 16">
              <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
            </svg>
          </a>
          <a class="nav-link" href="/cart">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill"
              viewBox="0 0 16 16">
              <path
                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
            </svg>
            <span class="badge rounded-pill badge-notification bg-danger"><%= count %></span>
          </a>
        </li>
      </ul>
    </div>
  
  <!-- content -->
  <section class="py-5">
    <div class="container">
      <div class="row gx-5">
        <aside class="col-lg-6">
          <div class="image">
          <div  id="first">
            <img  src="/img/24100ML_I_MARTINEZ_2-transformed.png" />
            <div id="lens"></div>
            <!-- <div style="" class="border rounded-4 mb-3 d-flex justify-content-center"> -->
          <!-- </div> -->
          </div>
          <div id="second">
            <!-- <div  style="position: absolute; left: 50%; top: 16.6%; width: 100vh;z-index: 1;" class="border rounded-4 mb-3 d-flex justify-content-center bg-white">
              <img style="max-width: 100%; max-height: 66vh; margin: auto;" class="rounded-4 fit" src="/img/24100ML_I_MARTINEZ_2-transformed.png" />
          </div> -->
          </div>
        </div>
          <div class="d-flex justify-content-center mb-3">
            <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big1.webp" class="item-thumb">
              <img width="60" height="60" class="rounded-2" src="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big1.webp" />
            </a>
            <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big2.webp" class="item-thumb">
              <img width="60" height="60" class="rounded-2" src="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big2.webp" />
            </a>
            <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big3.webp" class="item-thumb">
              <img width="60" height="60" class="rounded-2" src="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big3.webp" />
            </a>
            <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big4.webp" class="item-thumb">
              <img width="60" height="60" class="rounded-2" src="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big4.webp" />
            </a>
            <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big.webp" class="item-thumb">
              <img width="60" height="60" class="rounded-2" src="https://bootstrap-ecommerce.com/bootstrap5-ecommerce/images/items/detail1/big.webp" />
            </a>
          </div>
          <!-- thumbs-wrap.// -->
          <!-- gallery-wrap .end// -->
        </aside>
        <main class="col-lg-6" style="position: relative;">
          <div class="ps-lg-3">
            <h1 class="title text-dark">
              <%= product.productName %>
            </h1>
            <p>
              <%= product.productDiscription %>
            </p>
            <div class="d-flex flex-column">
              <span class="h5">Main Category: <%= product.productMainCategory.catName %></span>
              <span class="h5">Sub Category: <%= product.productSubCategory.catName %></span>
            </div>
            <h5> Size: <%= product.productSize %></h5>
            <div class="d-flex flex-row my-3">
                <div class="text-warning mb-1 me-2">
                  <i class="fa fa-star"></i>
                  <i class="fa fa-star"></i>
                  <i class="fa fa-star"></i>
                  <i class="fa fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                  <span class="ms-1">
                    4.5
                  </span>
                </div>
                <% if(product.productQuantity > 0){ %>
                <span class="text-muted"><i class="fas fa-shopping-basket fa-sm mx-1"></i><%= product.productQuantity %> items</span>
                <span class="text-success ms-2">In stock</span>
                <% } %>
              </div>
              <div class="mb-4 mt-4">
                <span class="h4 text-success">Price: &#8377;<%= product.productPrice %></span>
                <span class="h6 mrp">MRP: &#8377;<%= product.productMRP %></span>
              </div>
            <hr />
            <% if(product.productQuantity > 0){ %>
            <div class="links-button d-flex">
            <a href="/buyNow/<%= product._id %>" class="btn btn-warning shadow-0"> Buy now </a>
            <div class="buttons ms-4"> 
              <button class="add-cart-button<%= product._id %> cart-button" onclick="addToCart('<%= product._id %>','<%= user %>')"> 
                  <span class="add-to-cart">Add to cart</span> 
                  <span class="added">added</span> <i class="fa fa-shopping-cart"></i> <i class="fa fa-square"></i> 
              </button> 
          </div>
            <% }else{ %>
              <span style="font-weight: bold;" class="text-danger ms-2 text-center">Out of stock</span>
            <% } %>
          </div>
          </div>
        </main>
      </div>
    </div>
  </section>
</div>
<script>
  var lens = document.getElementById('lens');
  var first = document.getElementById('first');
  var second = document.getElementById('second');

  first.addEventListener('mousemove',(e)=>{

    var x = e.clientX - e.target.offsetLeft;
    var y = e.clientY - e.target.offsetTop;

    lens.style.left = x + 'px';
    lens.style.top = y + 'px';

  })
</script>
  <!-- content -->
  <%- include('../partials/footer.ejs') %>
  <style>
    .image div{
      width: 500px;
      height: 450px;
      border: 1px solid #000;
      position: relative;
      overflow: hidden;
      background-size: 100% 100%;
    }
    #first{
      top: 50%;
      left: 10%;
      border: 1px solid #000;
    }
    #second{
      position:absolute;
      top: 16.5%;
      left: 50%;
      z-index: 1;
      display: none;
    }
    #lens{
      width: 150px;
      height: 150px;
      background: rgba(0, 0,0, 0.4);
      position:absolute;
      transform: translate(-50%,-50%);
      pointer-events:none ;
    }
    .icon-hover:hover {
  border-color: #3b71ca !important;
  background-color: white !important;
  color: #3b71ca !important;
}

.icon-hover:hover i {
  color: #3b71ca !important;
}
.mrp{
    text-decoration: line-through;
    color: #777;
}
.ps-lg-3 .title{
text-transform: uppercase;
}
  </style>

  <%- include('../partials/script.ejs') %>